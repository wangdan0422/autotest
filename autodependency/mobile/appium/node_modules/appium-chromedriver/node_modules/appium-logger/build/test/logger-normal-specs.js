'use strict';

var _getDynamicLogger$restoreWriters$setupWriters$assertOutputContains = require('./helpers');

require('source-map-support').install();

describe('logger', function () {
  var writers = undefined,
      log = undefined;
  before(function () {
    writers = _getDynamicLogger$restoreWriters$setupWriters$assertOutputContains.setupWriters();
    log = _getDynamicLogger$restoreWriters$setupWriters$assertOutputContains.getDynamicLogger(false);
    log.level = 'silly';
  });

  after(function () {
    _getDynamicLogger$restoreWriters$setupWriters$assertOutputContains.restoreWriters(writers);
  });

  it('should not rewrite log levels outside of testing', function () {
    log.silly('silly');
    _getDynamicLogger$restoreWriters$setupWriters$assertOutputContains.assertOutputContains(writers, 'silly');
    log.verbose('verbose');
    _getDynamicLogger$restoreWriters$setupWriters$assertOutputContains.assertOutputContains(writers, 'verbose');
    log.info('info');
    _getDynamicLogger$restoreWriters$setupWriters$assertOutputContains.assertOutputContains(writers, 'info');
    log.http('http');
    _getDynamicLogger$restoreWriters$setupWriters$assertOutputContains.assertOutputContains(writers, 'http');
    log.warn('warn');
    _getDynamicLogger$restoreWriters$setupWriters$assertOutputContains.assertOutputContains(writers, 'warn');
    log.error(null, 'error');
    // npmlog adds a space before and a newline after error messages
    _getDynamicLogger$restoreWriters$setupWriters$assertOutputContains.assertOutputContains(writers, ' error\n');
  });
});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInRlc3QvbG9nZ2VyLW5vcm1hbC1zcGVjcy5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOztpRkFHcUMsV0FBVzs7QUFIaEQsT0FBTyxDQUFDLG9CQUFvQixDQUFDLENBQUMsT0FBTyxFQUFFLENBQUM7O0FBS3hDLFFBQVEsQ0FBQyxRQUFRLEVBQUUsWUFBTTtBQUN2QixNQUFJLE9BQU8sWUFBQTtNQUFFLEdBQUcsWUFBQSxDQUFDO0FBQ2pCLFFBQU0sQ0FBQyxZQUFNO0FBQ1gsV0FBTyxHQUFHLG1FQU42QixZQUFZLEVBTTNCLENBQUM7QUFDekIsT0FBRyxHQUFHLG1FQVBELGdCQUFnQixDQU9FLEtBQUssQ0FBQyxDQUFDO0FBQzlCLE9BQUcsQ0FBQyxLQUFLLEdBQUcsT0FBTyxDQUFDO0dBQ3JCLENBQUMsQ0FBQzs7QUFFSCxPQUFLLENBQUMsWUFBTTtBQUNWLHVFQVp1QixjQUFjLENBWXRCLE9BQU8sQ0FBQyxDQUFDO0dBQ3pCLENBQUMsQ0FBQzs7QUFFSCxJQUFFLENBQUMsa0RBQWtELEVBQUUsWUFBTTtBQUMzRCxPQUFHLENBQUMsS0FBSyxDQUFDLE9BQU8sQ0FBQyxDQUFDO0FBQ25CLHVFQWhCSyxvQkFBb0IsQ0FnQkosT0FBTyxFQUFFLE9BQU8sQ0FBQyxDQUFDO0FBQ3ZDLE9BQUcsQ0FBQyxPQUFPLENBQUMsU0FBUyxDQUFDLENBQUM7QUFDdkIsdUVBbEJLLG9CQUFvQixDQWtCSixPQUFPLEVBQUUsU0FBUyxDQUFDLENBQUM7QUFDekMsT0FBRyxDQUFDLElBQUksQ0FBQyxNQUFNLENBQUMsQ0FBQztBQUNqQix1RUFwQkssb0JBQW9CLENBb0JKLE9BQU8sRUFBRSxNQUFNLENBQUMsQ0FBQztBQUN0QyxPQUFHLENBQUMsSUFBSSxDQUFDLE1BQU0sQ0FBQyxDQUFDO0FBQ2pCLHVFQXRCSyxvQkFBb0IsQ0FzQkosT0FBTyxFQUFFLE1BQU0sQ0FBQyxDQUFDO0FBQ3RDLE9BQUcsQ0FBQyxJQUFJLENBQUMsTUFBTSxDQUFDLENBQUM7QUFDakIsdUVBeEJLLG9CQUFvQixDQXdCSixPQUFPLEVBQUUsTUFBTSxDQUFDLENBQUM7QUFDdEMsT0FBRyxDQUFDLEtBQUssQ0FBQyxJQUFJLEVBQUUsT0FBTyxDQUFDLENBQUM7O0FBRXpCLHVFQTNCSyxvQkFBb0IsQ0EyQkosT0FBTyxFQUFFLFVBQVUsQ0FBQyxDQUFDO0dBQzNDLENBQUMsQ0FBQztDQUNKLENBQUMsQ0FBQyIsImZpbGUiOiJ0ZXN0L2xvZ2dlci1ub3JtYWwtc3BlY3MuanMiLCJzb3VyY2VzQ29udGVudCI6WyJyZXF1aXJlKCdzb3VyY2UtbWFwLXN1cHBvcnQnKS5pbnN0YWxsKCk7XG5cbmltcG9ydCB7IGdldER5bmFtaWNMb2dnZXIsIHJlc3RvcmVXcml0ZXJzLCBzZXR1cFdyaXRlcnMsXG4gICAgICAgICBhc3NlcnRPdXRwdXRDb250YWlucyB9IGZyb20gJy4vaGVscGVycyc7XG5cbmRlc2NyaWJlKCdsb2dnZXInLCAoKSA9PiB7XG4gIGxldCB3cml0ZXJzLCBsb2c7XG4gIGJlZm9yZSgoKSA9PiB7XG4gICAgd3JpdGVycyA9IHNldHVwV3JpdGVycygpO1xuICAgIGxvZyA9IGdldER5bmFtaWNMb2dnZXIoZmFsc2UpO1xuICAgIGxvZy5sZXZlbCA9ICdzaWxseSc7XG4gIH0pO1xuXG4gIGFmdGVyKCgpID0+IHtcbiAgICByZXN0b3JlV3JpdGVycyh3cml0ZXJzKTtcbiAgfSk7XG5cbiAgaXQoJ3Nob3VsZCBub3QgcmV3cml0ZSBsb2cgbGV2ZWxzIG91dHNpZGUgb2YgdGVzdGluZycsICgpID0+IHtcbiAgICBsb2cuc2lsbHkoJ3NpbGx5Jyk7XG4gICAgYXNzZXJ0T3V0cHV0Q29udGFpbnMod3JpdGVycywgJ3NpbGx5Jyk7XG4gICAgbG9nLnZlcmJvc2UoJ3ZlcmJvc2UnKTtcbiAgICBhc3NlcnRPdXRwdXRDb250YWlucyh3cml0ZXJzLCAndmVyYm9zZScpO1xuICAgIGxvZy5pbmZvKCdpbmZvJyk7XG4gICAgYXNzZXJ0T3V0cHV0Q29udGFpbnMod3JpdGVycywgJ2luZm8nKTtcbiAgICBsb2cuaHR0cCgnaHR0cCcpO1xuICAgIGFzc2VydE91dHB1dENvbnRhaW5zKHdyaXRlcnMsICdodHRwJyk7XG4gICAgbG9nLndhcm4oJ3dhcm4nKTtcbiAgICBhc3NlcnRPdXRwdXRDb250YWlucyh3cml0ZXJzLCAnd2FybicpO1xuICAgIGxvZy5lcnJvcihudWxsLCAnZXJyb3InKTtcbiAgICAvLyBucG1sb2cgYWRkcyBhIHNwYWNlIGJlZm9yZSBhbmQgYSBuZXdsaW5lIGFmdGVyIGVycm9yIG1lc3NhZ2VzXG4gICAgYXNzZXJ0T3V0cHV0Q29udGFpbnMod3JpdGVycywgJyBlcnJvclxcbicpO1xuICB9KTtcbn0pO1xuXG4iXX0=